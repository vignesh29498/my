import pandas as pd

def read_cfr_file(file_path):
    data = []

    with open(file_path, 'r') as file:
        for line in file:
            line = line.strip()
            
            if "=" in line:
                # Split the line based on '='
                key_value = line.split("=")
                
                # Join all parts before the last '=' as key and take the part after the last '=' as value
                key = "=".join(key_value[:-1]).strip()
                value = key_value[-1].strip()

                data.append([key, value])

    return data

cfr_file_path = 'out.dml'
cfr_data = read_cfr_file(cfr_file_path)

# Create a DataFrame and save to CSV
df = pd.DataFrame(cfr_data, columns=['Key', 'Value'])
df.to_csv('output_DML_key_value.csv', index=False)

print(f"CFR data saved to output_DML_key_value.csv")
